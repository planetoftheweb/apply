<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>01_03
          --
          Managing the DOM</title>
      <link rel="stylesheet" href="../../../css/twemoji-amazing.css"/>
    <link rel="stylesheet" href="../../../css/bootstrap-rayveal.css"/>
    <link rel="stylesheet" href="../../../css/fontawesome.css"/>
    <link rel="stylesheet" href="../../../css/twemoji-amazing.css"/>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,900&family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@200;300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/default.min.css">
    <link rel="stylesheet" href="../../../css/syntax/nord.css"/>
    <link rel="stylesheet" href="../../../css/notes_override.css"/>
    <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
  </head>
  <body class="bg-subdued">
    <div class="post post-sidebar container-fluid">
      <div class="row justify-content-md-center">
        <aside class="aside aside-main col col-md-3 col-lg-2 gx-0">
            <nav class="sticky-top fw-medium lh-sm pt-2 ">
              <h3 class="text-secondary">All Docs</h3>
                  <div class="d-flex justify-content-end align-items-right border-bottom p-2 ">
                    <a class="text-decoration-none  link-secondary  link-primary" href="../../../notes/slides/01_01/index.html">
                      <i class="fas fa-file-alt mr-2 lh-1  text-primary "></i>01_01
                      CSS Clamp()</a>
                    <a class=" link-secondary  flex-fill ml-3 text-right" href="../../../?d=01_01&#">
                      <i class="fab fa-slideshare"></i>
                    </a>
                  </div>
                
                  <div class="d-flex justify-content-end align-items-right border-bottom p-2 ">
                    <a class="text-decoration-none  link-secondary  link-primary" href="../../../notes/slides/01_02/index.html">
                      <i class="fas fa-file-alt mr-2 lh-1  text-primary "></i>01_02
                      Carousel Sliders</a>
                    <a class=" link-secondary  flex-fill ml-3 text-right" href="../../../?d=01_02&#">
                      <i class="fab fa-slideshare"></i>
                    </a>
                  </div>
                
                  <div class="d-flex justify-content-end align-items-right border-bottom p-2  bg-primary ">
                    <a class="text-decoration-none  fw-bolder link-light  link-primary" href="../../../notes/slides/01_03/index.html">
                      <i class="fas fa-file-alt mr-2 lh-1  text-light "></i>01_03
                      Managing the DOM</a>
                    <a class=" link-light  flex-fill ml-3 text-right" href="../../../?d=01_03&#">
                      <i class="fab fa-slideshare"></i>
                    </a>
                  </div>
                
                  <div class="d-flex justify-content-end align-items-right border-bottom p-2 ">
                    <a class="text-decoration-none  link-secondary  link-primary" href="../../../notes/slides/index/index.html">
                      <i class="fas fa-file-alt mr-2 lh-1  text-primary "></i>index
                      Apply</a>
                    <a class=" link-secondary  flex-fill ml-3 text-right" href="../../../?d=index&#">
                      <i class="fab fa-slideshare"></i>
                    </a>
                  </div>
                </nav>
          </aside>

        <main class="main col col-md-6 col-lg-8">
          <!-- .slide: data-state="layout-title no-fragment"  -->
<h1 id="managing-the-dom">Managing the DOM <a class="direct-link" href="#managing-the-dom"> </a></h1>
<p>Creating New Elements</p>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>There's a couple of ways you can modify the DOM to add new elements to your page. You can either create elements manually from scratch or just output a string that has the elements inside. One is always more convenient than the other depending on the situation...you know it's time...to Apply.</p>
<p>I'm going to split this into two videos, because they're different techniques. I'll show you how to do this with Bootstrap 5 to automate adding indicators, but this is a foundational technique you need to know.</p>
<hr>
<!-- .slide: data-state="layout-title layout-code-list" class="bg-chroma_green"-->
<pre><code class="language-html[1,14|2-8|9-13|3,10|4,11|5|6|7,12]">&amp;lt;div class=&quot;carousel-indicators&quot;&amp;gt;
  &amp;lt;button type=&quot;button&quot;
    data-bs-target=&quot;#carouselHero&quot;
    data-bs-slide-to=&quot;0&quot;
    class=&quot;active&quot;
    aria-current=&quot;true&quot;
    aria-label=&quot;Slide 1&quot;&amp;gt;
  &amp;lt;/button&amp;gt;
  &amp;lt;button type=&quot;button&quot;
    data-bs-target=&quot;#carouselHero&quot;
    data-bs-slide-to=&quot;1&quot;
    aria-label=&quot;Slide 2&quot;&amp;gt;
  &amp;lt;/button&amp;gt;
&amp;lt;/div&amp;gt;
</code></pre>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>You can see that it's quite complex to even do a simple set of indicators and as the number of images grows, this gets even longer. You create a <code>div</code> with a class of <code>carousel-indicators</code> and then a number of buttons for each image inside the carousel.</p>
<p>Each button has a couple of important data attributes. <code>data-bs-target</code> identifies the ID of this slideshow. This should go in the parent of the carousel and unique to each slideshow on the page.</p>
<p><code>data-bs-slide-to</code> has the number of the slide. Since JavaScript is zero indexed, the first image gets a number zero, the second image gets a number one and so on and so forth.</p>
<p>The indicator belonging to the image that is showing when the page loads should also have a class of active.</p>
<p>There are a few assistive device classes that you should add in there. If this is an image that is currently showing, then you should add an <code>aria-current=&quot;true&quot;</code> property.</p>
<p>Finally each indicator should have a label of <code>aria-label</code> with some name.</p>
<p>The key to deciding which approach to use is the quantity of tags versus variables. This has a lot of properties, but it's really just a container with a couple of buttons.</p>
<hr>
<!-- .slide: data-state="layout-title layout-code-list" class="bg-chroma_green"-->
<pre><code class="language-html[4|6-9]">&amp;lt;div id=&quot;carouselHero&quot;
  class=&quot;carousel slide&quot;
  data-bs-ride=&quot;carousel&quot;&amp;gt;
  &amp;lt;div class=&quot;carousel-indicators&quot;&amp;gt;&amp;lt;/div&amp;gt;
  &amp;lt;div class=&quot;carousel-inner&quot;&amp;gt;
    &amp;lt;div class=&quot;carousel-item active&quot;&amp;gt;
      &amp;lt;img src=&quot;IMG&quot; class=&quot;d-block w-100&quot; alt=&quot;Img&quot;&amp;gt;
    &amp;lt;/div&amp;gt;
    ...
  &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
</code></pre>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>What I want to do is to add a div with a class of <code>carousel-indicators</code> to a carousel. If that div exists, I want my program to take care of adding the indicators, no matter how many images there are...because computers should be doing this type of repetitive task instead of me.</p>
<hr>
<h1 id="creating-elements">Creating Elements <a class="direct-link" href="#creating-elements"> </a></h1>
<ul>
<li>Find where to insert</li>
<li>Create the element</li>
<li>Add properties</li>
<li>Insert in the DOM</li>
</ul>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>To create elements in the DOM, you need to do four things. First, find out where to insert the elements.</p>
<p>Then you can create the element you want in the DOM. It will live in memory until you add it.</p>
<p>Once you create the element, you can add any properties using JavaScript.</p>
<p>Finally, you insert the new element with all of it's properties back into the DOM.</p>
<hr>
<!-- .slide: data-state="layout-title layout-code-list" class="bg-chroma_green"-->
<h1 id="finding-the-elements">Finding the Elements <a class="direct-link" href="#finding-the-elements"> </a></h1>
<ul>
<li><code>querySelector</code></li>
<li><code>querySelectorAll</code></li>
</ul>
<pre><code class="language-js">const insertIndicators = document.querySelectorAll('.carousel-indicators')
</code></pre>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>We'll start off creating a const for where we want the elements to live.</p>
<p>To find the elements, you can use something like <code>querySelector</code> or <code>querySelectorAll</code> JavaScript commands. The difference is that querySelectorAll returns a list.</p>
<p>In our case, querySelectorAll makes more sense because our carousel could live with others in the same page, so I want to get a list of all the carousels on the page.</p>
<hr>
<!-- .slide: data-state="layout-title layout-code-list" class="bg-chroma_green"-->
<h1 id="extract-ids">Extract IDs <a class="direct-link" href="#extract-ids"> </a></h1>
<pre><code class="language-js[2]">insertIndicators.forEach((carouselIndicators) =&gt; {
  const id = carouselIndicators.parentNode.id;
});
</code></pre>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>That gives us a list of carousels on the page. We'll need to go through each of them and extract each of the IDs so we can use them in our code.</p>
<hr>
<!-- .slide: data-state="layout-title layout-code-list" class="bg-chroma_green"-->
<h1 id="verifying-ids">Verifying IDs <a class="direct-link" href="#verifying-ids"> </a></h1>
<pre><code class="language-js[3]">insertIndicators.forEach((carouselIndicators) =&gt; {
  const id = carouselIndicators.parentNode.id;
  if (id !== null) { }
});
</code></pre>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>We want to make sure that each of the carousels HAS an id, otherwise we won't count them on our list. Just in case someone forgets to add an ID.</p>
<hr>
<!-- .slide: data-state="layout-title layout-code-list" class="bg-chroma_green"-->
<h1 id="verifying-ids-1">Verifying IDs <a class="direct-link" href="#verifying-ids-1"> </a></h1>
<pre><code class="language-js[4-7]">insertIndicators.forEach((carouselIndicators) =&gt; {
  const id = carouselIndicators.parentNode.id;
  if (id !== null) {
    const carouselItems =
    carouselIndicators.parentNode.querySelectorAll(
      &quot;.carousel-item&quot;
    );
  }
});
</code></pre>
<blockquote>
<blockquote></blockquote>
</blockquote>
<p>If the IDs exist, we want to go through all of the images in that carousel. Each of them will have an id of carousel-item.</p>
<hr>
<h2 id="creating-the-indicators">Creating the Indicators <a class="direct-link" href="#creating-the-indicators"> </a></h2>
<p>To create the indicators, we're going to go through each of the items in the carousel and then create elements.</p>
<pre><code class="language-js">...
carouselItems.forEach((item, index) =&gt; {
  let el = document.createElement(&quot;button&quot;);
  el.type = &quot;button&quot;;
  el.dataset.bsTarget = `#${id}`;
  el.dataset.bsSlideTo = `${index}`;
  el.ariaLabel = `Slide ${index}`;
  if (index == 0) {
    el.className = &quot;active&quot;;
    el.ariaCurrent = &quot;true&quot;;
  }
  carouselIndicators.appendChild(el);
});
...
</code></pre>
<p>Creating elements is pretty easy, you use <code>document.createElement(&quot;button&quot;)</code> and then add all of the same properties and values that would normally go in an indicator. When we want to use a <code>data</code> attribute we have to write it a bit different. So something like <code>data-bs-target</code>, we write that in camel case. <code>dataset-bsTarget</code>. When necessary we pass along the id.</p>
<p>The first one of the indicators gets a couple of extra properties. They get the class of 'active'; because this is JavaScript, we have to use and an <code>aria-current</code> property of true.</p>
<p>Finally, we just append this new element to the <code>carouselIndicator</code> element. The nice thing is that we don't have to worry about how many carousel items we have. Here's what this looks like with a CodePen for the code.</p>
<hr>
<h1 id="conclusion">Conclusion <a class="direct-link" href="#conclusion"> </a></h1>
<p>Now that we have created elements from scratch, our carousel works great and that's one less thing we have to worry about on our page. Learning how to manage the DOM even now that things like React and Vue make it easier, is still a core skill you should be comfortable with.</p>

        </main>
        <aside class="aside aside-supplemental col col-md-3 col-lg-2 d-none d-md-block">
          <nav class="sticky-top">
            <h3 class="pt-2">This Slide</h3>
            <div class="">
                <ol>
                    
                    <li><a href="#managing-the-dom">Managing the DOM  </a>
            		</li>

                    <li><a href="#creating-elements">Creating Elements  </a>
            		</li>

                    <li><a href="#finding-the-elements">Finding the Elements  </a>
            		</li>

                    <li><a href="#extract-ids">Extract IDs  </a>
            		</li>

                    <li><a href="#verifying-ids">Verifying IDs  </a>
            		</li>

                    <li><a href="#verifying-ids-1">Verifying IDs  </a>
            		</li>

                    <li><a href="#conclusion">Conclusion  </a>
            		</li>
                </ol>
            </div>
          </nav>
        </aside>
      </div>
    </div>
  </div>
  <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.bundle.min.js" integrity="sha384-BOsAfwzjNJHrJ8cZidOg56tcQWfp6y72vEJ8xQ9w6Quywb24iOsW913URv1IS4GD" crossorigin="anonymous"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
</body>
</html>